{"version":3,"sources":["contexts/context.js","utils/constants.js","utils/api.js","components/Login.js","components/Task.js","components/TaskList.js","components/TaskForm.js","components/TaskEdit.js","components/Sorting.js","components/Pagination.js","components/Main.js","components/AppRouter.js","components/NavBar.js","components/App.js","index.js"],"names":["AppContext","createContext","requestParams","localStorage","getItem","baseUrl","headers","userName","Api","this","_baseUrl","_headers","_userName","res","ok","json","Promise","reject","Error","status","a","username","password","formData","FormData","append","fetch","method","body","_getResponseData","pageNumber","sortField","sortDirection","sortOptions","email","text","id","token","api","Login","history","useHistory","setIsAuth","useContext","useState","setUsername","setPassword","isNameValid","setIsNameValid","isPassValid","setIsPassValid","nameValidationMessage","setNameValidationMessage","passValidationMessage","setPassValidationMessage","isProfileFormValid","setIsProfileFormValid","useEffect","className","onSubmit","evt","preventDefault","login","then","data","message","setItem","JSON","stringify","push","catch","err","console","log","target","reset","name","type","minLength","maxLength","value","onChange","checkValidity","validationMessage","required","disabled","Task","editTask","isAuth","onClick","style","href","TaskList","tasks","onEdit","map","task","TaskForm","setEmail","setMessage","showForm","setShowForm","isEmailValid","setIsEmailValid","emailValidationMessage","setEmailValidationMessage","isTaskFormValid","setIsTaskFormValid","TaskEdit","clearTask","setNeedUpdate","newStatus","setNewStatus","heading","setHeading","parse","correctStatus","changeTask","checked","Sorting","setSortField","setSortDirection","e","Pagination","taskTotal","setPageNumber","Main","header","taskToEdit","setTaskToEdit","AppRouter","exact","path","component","NavBar","onLogout","to","App","tasksLength","setTasksLength","taskMessage","setTaskMessage","taskList","setTaskList","needUpdate","getTasks","length","Number","total_task_count","Provider","removeItem","createTask","setTimeout","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.1f109232.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst AppContext = createContext(null);\r\n\r\nexport default AppContext;\r\n","const token = localStorage.getItem('token');\r\n/* eslint-disable */\r\nconst jwtToken = token ? token : '';\r\nconst USER_NAME = '/?developer=sumere4ny';\r\n\r\n/* eslint-disable */\r\n\r\nconst requestParams = {\r\n  baseUrl: \"https://uxcandy.com/~shapoval/test-task-backend/v2\",\r\n  headers: {\r\n    // \"Mime-Type\": \"multipart/form-data\",\r\n    // \"Authorization\": jwtToken,\r\n  },\r\n  userName: USER_NAME,\r\n};\r\n\r\nexport default requestParams;\r\n","import requestParams from './constants';\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers, userName }) {\r\n    /* eslint-disable */\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    this._userName = userName;\r\n  }\r\n\r\n  // Общий обработчик запросов\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  // Авторизация пользователя\r\n  async login({ username, password }) {\r\n    const formData = new FormData();\r\n    formData.append('username', username);\r\n    formData.append('password', password);\r\n    const res = await fetch(`${this._baseUrl}/login` + this._userName, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: formData,\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n\r\n  // Получаем массив уже существующих задач\r\n  async getTasks(pageNumber, sortField, sortDirection) {\r\n    let sortOptions = sortField || sortDirection\r\n      ? `&sort_field=${sortField}` + `&sort_direction=${sortDirection}`\r\n      : '';\r\n    const res = await fetch(this._baseUrl + this._userName + `&page=${pageNumber}` + sortOptions, {\r\n      headers: this._headers,\r\n      method: 'GET',\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n\r\n  // Создание и изменение задачи\r\n  async createTask({ username, email, text }) {\r\n    const formData = new FormData();\r\n    formData.append('username', username);\r\n    formData.append('email', email);\r\n    formData.append('text', text);\r\n    const res = await fetch(`${this._baseUrl}/create${this._userName}`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: formData,\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n\r\n  async changeTask({ id, text, status, token }) {\r\n    const formData = new FormData();\r\n    formData.append('status', status);\r\n    formData.append('token', token);\r\n    formData.append('text', text);\r\n    const res = await fetch(`${this._baseUrl}/edit/${id}` + this._userName, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: formData,\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n}\r\n\r\nexport const api = new Api(requestParams);\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AppContext from '../contexts/context';\r\nimport { api } from '../utils/api';\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const { setIsAuth } = useContext(AppContext);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isPassValid, setIsPassValid] = useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [passValidationMessage, setPassValidationMessage] = useState('');\r\n  const [isProfileFormValid, setIsProfileFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function checkProfileFormValidity() {\r\n      if (isNameValid && isPassValid) {\r\n        setIsProfileFormValid(true);\r\n      } else {\r\n        setIsProfileFormValid(false);\r\n      }\r\n    }\r\n    checkProfileFormValidity();\r\n  }, [isNameValid, isPassValid]);\r\n\r\n  function handleNameChange(evt) {\r\n    setUsername(evt.target.value);\r\n    setIsNameValid(evt.target.checkValidity());\r\n    setNameValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function handlePassChange(evt) {\r\n    setPassword(evt.target.value);\r\n    setIsPassValid(evt.target.checkValidity());\r\n    setPassValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function hanleClearInputs() {\r\n    setPassword('');\r\n    setUsername('');\r\n  }\r\n\r\n  function setAuthToken(data) {\r\n    localStorage.setItem('token', JSON.stringify(data));\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!(username || password)) {\r\n      return;\r\n    }\r\n    api.login({ username, password })\r\n      .then(({ status, message }) => {\r\n        // eslint-disable-next-line\r\n        if (status === 'ok') {\r\n          setAuthToken(message.token);\r\n          setIsAuth(true);\r\n          history.push('/');\r\n        } else {\r\n          setNameValidationMessage(message.username);\r\n          setPassValidationMessage(message.password);\r\n        }\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch((err) => console.log(err));\r\n    hanleClearInputs();\r\n    evt.target.reset();\r\n  }\r\n\r\n  return (\r\n    <main className=\"main__content main__content_login\">\r\n      <h1>Авторизация</h1>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <label>Имя пользователя</label>\r\n        <input\r\n          name=\"username\"\r\n          id=\"username\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={username}\r\n          onChange={handleNameChange}\r\n          required />\r\n        <span id='username-error' className='task__form_input-error'>{nameValidationMessage}</span>\r\n        <label>Пароль</label>\r\n        <input\r\n          name=\"password\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          /* pattern=\"[a-zA-Z0-9]{1,15}\" */\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={password}\r\n          onChange={handlePassChange}\r\n          required />\r\n        <span id='password-error' className='task__form_input-error'>{passValidationMessage}</span>\r\n        <button className=\"task__submit\" type=\"submit\" disabled={!isProfileFormValid}>Отправить</button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useContext } from 'react';\r\nimport AppContext from '../contexts/context';\r\n\r\nfunction Task({\r\n  username, message, status, email, id, editTask,\r\n}) {\r\n  /* eslint-disable */\r\n  const taskList = {\r\n    0: 'задача не выполнена',\r\n    1: 'задача не выполнена, отредактирована админом',\r\n    10: 'задача выполнена',\r\n    11: 'задача отредактирована админом и выполнена',\r\n  }\r\n\r\n  const { isAuth } = useContext(AppContext);\r\n\r\n  const handleTaskEdit = () => {\r\n    // showTaskEditForm();\r\n    editTask({ id, status, text: message, email, username })\r\n  }\r\n\r\n  return (\r\n    <div className={`tasklist__task ${status >= 10 && 'tasklist__task_done'}`}>\r\n      {isAuth && <div className=\"tasklist__task_edit\" onClick={handleTaskEdit}></div>}\r\n      <div className=\"task__status\"><p>Статус задачи: {taskList[status]}</p></div>\r\n      <h2 style={{ 'textAlign': 'center' }}>Имя пользователя: {username}</h2>\r\n      <p>Email: <a href={`mailto: ${email}`}>{email}</a></p>\r\n      <p>Описание</p>\r\n      <p className=\"task__description\">{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Task;\r\n","import Task from './Task';\r\n\r\nfunction TaskList({ tasks, onEdit }) {\r\n  return (\r\n    <>\r\n      {tasks.map((task) => <Task\r\n      username={task.username}\r\n      message={task.text}\r\n      status={task.status}\r\n      email={task.email}\r\n      key={task.id}\r\n      id={task.id}\r\n      editTask={onEdit} />)}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TaskList;\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction TaskForm({ onSubmit }) {\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [emailValidationMessage, setEmailValidationMessage] = useState('');\r\n  const [isTaskFormValid, setIsTaskFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function checkTaskFormValidity() {\r\n      if (isNameValid && isEmailValid && username && email) {\r\n        setIsTaskFormValid(true);\r\n      } else {\r\n        setIsTaskFormValid(false);\r\n      }\r\n    }\r\n    checkTaskFormValidity();\r\n  }, [username, email, isNameValid, isEmailValid]);\r\n\r\n  useEffect(() => {\r\n    if (showForm) {\r\n      setNameValidationMessage('');\r\n      setEmailValidationMessage('');\r\n      setIsNameValid(true);\r\n      setIsEmailValid(true);\r\n    }\r\n  }, [showForm]);\r\n\r\n  function handleNameChange(evt) {\r\n    setUsername(evt.target.value);\r\n    setIsNameValid(evt.target.checkValidity());\r\n    setNameValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function handleEmailChange(evt) {\r\n    setEmail(evt.target.value);\r\n    setIsEmailValid(evt.target.checkValidity());\r\n    setEmailValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function handleMessageChange(evt) {\r\n    setMessage(evt.target.value);\r\n  }\r\n\r\n  function handleShowForm() {\r\n    setShowForm(!showForm);\r\n  }\r\n\r\n  function hanleClearInputs() {\r\n    setEmail('');\r\n    setUsername('');\r\n    setMessage('');\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!(username || email)) {\r\n      return;\r\n    }\r\n    onSubmit({\r\n      email,\r\n      username,\r\n      text: message,\r\n    });\r\n    hanleClearInputs();\r\n    evt.target.reset();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"button__show-form\"\r\n        onClick={handleShowForm}>{showForm ? 'Скрыть форму' : 'Добавить задачу'}</div>\r\n      <form className={`task__form ${showForm && 'task__form_visible'}`} onSubmit={handleSubmit}>\r\n        <label>Имя пользователя</label>\r\n        <input\r\n          name=\"username\"\r\n          id=\"username\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={username}\r\n          onChange={handleNameChange}\r\n          required />\r\n        <span id='username-error' className='task__form_input-error'>{nameValidationMessage}</span>\r\n        <label>E-mail</label>\r\n        <input\r\n          name=\"email\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          minLength=\"5\"\r\n          maxLength=\"20\"\r\n          value={email}\r\n          onChange={handleEmailChange}\r\n          required />\r\n        <span id='email-error' className='task__form_input-error'>{emailValidationMessage}</span>\r\n        <label>Сообщение</label>\r\n        <textarea name=\"message\" type=\"text\" onChange={handleMessageChange} />\r\n        <button className=\"task__submit\" type=\"submit\"\r\n          disabled={!isTaskFormValid}>Создать</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TaskForm;\r\n","import { useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AppContext from '../contexts/context';\r\nimport { api } from '../utils/api';\r\n/* eslint-disable */\r\nfunction TaskEdit({ task, clearTask }) {\r\n  const history = useHistory();\r\n  const { setIsAuth, setNeedUpdate } = useContext(AppContext);\r\n  const [message, setMessage] = useState(task.text);\r\n  const [newStatus, setNewStatus] = useState(task.status);\r\n  const [heading, setHeading] = useState('Изменить статус и текст');\r\n  const token = JSON.parse(localStorage.getItem('token'));\r\n\r\n  function handleMessageChange(evt) {\r\n    setMessage(evt.target.value);\r\n  }\r\n\r\n  function hanleClearInputs() {\r\n    setNewStatus(null);\r\n    setMessage('');\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let correctStatus = newStatus;\r\n    if (token) {\r\n      if ( (task.status === 1\r\n        || task.status === 11)\r\n        && newStatus !== task.status ) {\r\n        correctStatus = newStatus + 1;\r\n      } else if (message !== task.text) {\r\n        correctStatus = newStatus + 1;\r\n      }\r\n      console.log(correctStatus);\r\n      api.changeTask({\r\n        token,\r\n        id: task.id,\r\n        status: correctStatus,\r\n        text: message,\r\n      })\r\n      .then(({ status, message }) => {\r\n        if (status === 'ok') {\r\n          setHeading('Успешно');\r\n          setNeedUpdate(true);\r\n          clearTask();\r\n        } else {\r\n          setHeading(message);\r\n          setIsAuth(false);\r\n          history.push('/login');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n    } else {\r\n      setHeading('Токен не найден');\r\n      history.push('/login');\r\n    }\r\n    hanleClearInputs();\r\n    evt.target.reset();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form className='task__form task__form_visible' onSubmit={handleSubmit}>\r\n      <h2>{heading}</h2>\r\n      <p>Имя пользователя: {task.username}</p>\r\n      <p>Email: <a href={`mailto: ${task.email}`}>{task.email}</a></p>\r\n      <label className=\"form-check-label\">Выполнено</label>\r\n        <input type=\"checkbox\"\r\n          className=\"task__input\"\r\n          checked={newStatus === 10 || newStatus === 11}\r\n          onChange={() => setNewStatus(newStatus === 10 ? 0 : 10)}\r\n        />\r\n        <label>Сообщение</label>\r\n        <textarea name=\"message\" type=\"text\"\r\n          value={message}\r\n          onChange={handleMessageChange} />\r\n        <button className=\"task__submit\" type=\"submit\">Изменить</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TaskEdit;\r\n","import { useContext } from 'react';\r\nimport AppContext from '../contexts/context';\r\n\r\nconst Sorting = () => {\r\n  const { setSortField, setSortDirection } = useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"sort\">\r\n      <div>Сортировать</div>\r\n      <select\r\n        onChange={(e) => setSortField(e.target.value)}\r\n      >\r\n        <option value=\"id\">id</option>\r\n        <option value=\"username\">username</option>\r\n        <option value=\"email\">email</option>\r\n        <option value=\"status\">status</option>\r\n      </select>\r\n      <select\r\n        onChange={(e) => setSortDirection(e.target.value)}\r\n      >\r\n        <option value=\"asc\">По возрастанию</option>\r\n        <option value=\"desc\">По убыванию</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sorting;\r\n","import { useContext } from 'react';\r\nimport AppContext from '../contexts/context';\r\n\r\nconst Pagination = ({ taskTotal }) => {\r\n  const { pageNumber, setPageNumber } = useContext(AppContext);\r\n\r\n  if (taskTotal <= 3) return null;\r\n\r\n  return (\r\n    <div className=\"pagination\">\r\n      <button\r\n        onClick={() => setPageNumber(pageNumber - 1)}\r\n        disabled={pageNumber === 1}\r\n      >\r\n        Назад\r\n      </button>\r\n      <div>Страница {pageNumber}</div>\r\n      <button\r\n        onClick={() => setPageNumber(pageNumber + 1)}\r\n        disabled={pageNumber * 3 >= taskTotal}\r\n      >\r\n        Дальше\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { useState } from 'react';\r\nimport TaskList from './TaskList';\r\nimport TaskForm from './TaskForm';\r\nimport TaskEdit from './TaskEdit';\r\nimport Sorting from './Sorting';\r\nimport Pagination from './Pagination';\r\n\r\nconst Main = ({\r\n  tasks,\r\n  taskTotal,\r\n  header,\r\n  onSubmit,\r\n}) => {\r\n  const [taskToEdit, setTaskToEdit] = useState();\r\n\r\n  const handleEdit = (task) => {\r\n    setTaskToEdit(task);\r\n  };\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <div className=\"main__content\">\r\n        <h1>{header}</h1>\r\n        <Sorting />\r\n        <TaskList tasks={tasks} onEdit={handleEdit} />\r\n        <Pagination taskTotal={taskTotal} />\r\n      </div>\r\n      <div className=\"main__sidebar\">\r\n        <TaskForm onSubmit={onSubmit} />\r\n        {taskToEdit && <TaskEdit task={taskToEdit} clearTask={() => setTaskToEdit()} />}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import { Switch, Route } from 'react-router-dom';\r\nimport Login from './Login';\r\nimport Main from './Main';\r\n\r\nconst AppRouter = ({\r\n  tasks,\r\n  taskTotal,\r\n  onSubmit,\r\n  header,\r\n}) => (\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Main\r\n            tasks={tasks}\r\n            taskTotal={taskTotal}\r\n            onSubmit={onSubmit}\r\n            header={header}\r\n          />\r\n        </Route>\r\n        <Route path=\"/login\" component={ Login } />\r\n      </Switch>\r\n);\r\n\r\nexport default AppRouter;\r\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppContext from '../contexts/context';\r\n\r\nconst NavBar = ({ onLogout }) => {\r\n  const { isAuth } = useContext(AppContext);\r\n\r\n  return (\r\n  <nav className=\"navigation__bar\">\r\n  <Link className=\"navigation__link\" to=\"/\">Задачи</Link>\r\n  {isAuth ? <Link className=\"navigation__link\" onClick={onLogout} to=\"/\">Выйти</Link>\r\n    : <Link className=\"navigation__link\" to=\"/login\">Войти</Link>}\r\n  </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport AppContext from '../contexts/context';\r\nimport { api } from '../utils/api';\r\nimport AppRouter from './AppRouter';\r\nimport NavBar from './NavBar';\r\n\r\n/* eslint-disable */\r\n\r\nfunction App() {\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [sortField, setSortField] = useState(null);\r\n  const [sortDirection, setSortDirection] = useState(null);\r\n  const [tasksLength, setTasksLength] = useState(0);\r\n  const [taskMessage, setTaskMessage] = useState('');\r\n  const [taskList, setTaskList] = useState([]);\r\n  const [needUpdate, setNeedUpdate] = useState(false);\r\n\r\n  useEffect(() => {\r\n    api.getTasks(pageNumber, sortField, sortDirection)\r\n      .then(({ status, message }) => {\r\n        if (status == 'ok') {\r\n          setTaskList([...message.tasks]);\r\n          setTaskMessage(message.tasks.length\r\n            ? 'Список задач:' : 'Задач пока нет!');\r\n          setTasksLength(Number(message.total_task_count));\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n      setNeedUpdate(false);\r\n  }, [pageNumber, tasksLength, sortField, sortDirection, needUpdate]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token')) {\r\n      setIsAuth(true);\r\n    }\r\n  }, []);\r\n\r\n  function handleTaskSubmit(task) {\r\n    api.createTask(task)\r\n    .then(({ status, message }) => {\r\n      if (status == 'ok') {\r\n        setTaskMessage('Успешно добавлено');\r\n        setTimeout(() => {\r\n          setTasksLength(tasksLength + 1);\r\n        }, 2000);\r\n      } else {\r\n        setTaskMessage('Ошибка добавления');\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('token');\r\n    setIsAuth(false);\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider value={{\r\n      isAuth,\r\n      setIsAuth,\r\n      pageNumber,\r\n      setPageNumber,\r\n      setNeedUpdate,\r\n      setSortField,\r\n      setSortDirection,\r\n    }}>\r\n      <NavBar onLogout={handleLogout} />\r\n      <AppRouter\r\n        tasks={taskList}\r\n        taskTotal={tasksLength}\r\n        onSubmit={handleTaskSubmit}\r\n        header={taskMessage} />\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}