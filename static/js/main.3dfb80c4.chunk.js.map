{"version":3,"sources":["contexts/context.js","utils/constants.js","utils/api.js","utils/auth.js","components/Login.js","components/Task.js","components/TaskList.js","components/TaskForm.js","components/Sorting.js","components/Pagination.js","components/Main.js","components/AppRouter.js","components/NavBar.js","components/App.js","index.js"],"names":["AppContext","createContext","requestParams","localStorage","getItem","baseUrl","headers","userName","Api","this","_baseUrl","_headers","_userName","res","ok","json","Promise","reject","Error","status","pageNumber","sortField","sortDirection","a","sortOptions","fetch","method","_getResponseData","username","email","text","formData","FormData","append","body","id","token","api","auth","password","then","_handleResponse","Login","history","useHistory","setIsAuth","useContext","useState","setUsername","setPassword","isNameValid","setIsNameValid","isPassValid","setIsPassValid","nameValidationMessage","setNameValidationMessage","passValidationMessage","setPassValidationMessage","isProfileFormValid","setIsProfileFormValid","useEffect","className","onSubmit","evt","preventDefault","login","data","message","console","log","setItem","JSON","stringify","push","catch","err","target","reset","name","type","minLength","maxLength","value","onChange","checkValidity","validationMessage","required","disabled","Task","style","href","TaskList","tasks","map","task","TaskForm","setEmail","setMessage","showForm","setShowForm","isEmailValid","setIsEmailValid","emailValidationMessage","setEmailValidationMessage","isTaskFormValid","setIsTaskFormValid","onClick","Sorting","setSortField","setSortDirection","e","Pagination","taskTotal","setPageNumber","Main","header","AppRouter","exact","path","component","NavBar","onLogout","isAuth","to","App","tasksLength","setTasksLength","taskMessage","setTaskMessage","taskList","setTaskList","getTasks","length","Number","total_task_count","Provider","removeItem","createTask","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.3dfb80c4.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst AppContext = createContext(null);\r\n\r\nexport default AppContext;\r\n","const token = localStorage.getItem('token');\r\n/* eslint-disable */\r\nconst jwtToken = token ? token : '';\r\nconst USER_NAME = '/?developer=sumere4ny';\r\n\r\n/* eslint-disable */\r\n\r\nconst requestParams = {\r\n  baseUrl: \"https://uxcandy.com/~shapoval/test-task-backend/v2\",\r\n  headers: {\r\n    // \"Mime-Type\": \"multipart/form-data\",\r\n    // \"Authorization\": jwtToken,\r\n  },\r\n  userName: USER_NAME,\r\n};\r\n\r\nexport default requestParams;\r\n","import requestParams from './constants';\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers, userName }) {\r\n    /* eslint-disable */\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    this._userName = userName;\r\n  }\r\n\r\n  // Общий обработчик запросов\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  // Получаем массив уже существующих задач\r\n  async getTasks(pageNumber, sortField, sortDirection) {\r\n    let sortOptions = sortField\r\n      ? `&sort_field=${sortField}` + `&sort_direction=${sortDirection}`\r\n      : '';\r\n    const res = await fetch(this._baseUrl + this._userName + `&page=${pageNumber}` + sortOptions, {\r\n      headers: this._headers,\r\n      method: 'GET',\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n\r\n  // Создание и изменение задачи\r\n  async createTask({ username, email, text }) {\r\n    const formData = new FormData();\r\n    formData.append('username', username);\r\n    formData.append('email', email);\r\n    formData.append('text', text);\r\n    const res = await fetch(`${this._baseUrl}/create${this._userName}`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: formData,\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n\r\n  async changeTask({ id, text, status, token }) {\r\n    const formData = new FormData();\r\n    formData.append('status', status);\r\n    formData.append('token', token);\r\n    formData.append('text', text);\r\n    const res = await fetch(`${this._baseUrl}/edit/${id}`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: formData,\r\n    });\r\n    return this._getResponseData(res);\r\n  }\r\n}\r\n\r\nexport const api = new Api(requestParams);\r\n","import requestParams from './constants';\r\n/* eslint-disable */\r\nclass Auth {\r\n  constructor({ baseUrl, headers, userName }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    this._userName = userName;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  login({ username, password }) {\r\n    const formData = new FormData();\r\n    formData.append('username', username);\r\n    formData.append('password', password);\r\n    return fetch(`${this._baseUrl}/login` + this._userName, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: formData,\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nexport const auth = new Auth(requestParams);\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AppContext from '../contexts/context';\r\nimport { auth } from '../utils/auth';\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const { setIsAuth } = useContext(AppContext);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isPassValid, setIsPassValid] = useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [passValidationMessage, setPassValidationMessage] = useState('');\r\n  const [isProfileFormValid, setIsProfileFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function checkProfileFormValidity() {\r\n      if (isNameValid && isPassValid) {\r\n        setIsProfileFormValid(true);\r\n      } else {\r\n        setIsProfileFormValid(false);\r\n      }\r\n    }\r\n    checkProfileFormValidity();\r\n  }, [isNameValid, isPassValid]);\r\n\r\n  function handleNameChange(evt) {\r\n    setUsername(evt.target.value);\r\n    setIsNameValid(evt.target.checkValidity());\r\n    setNameValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function handlePassChange(evt) {\r\n    setPassword(evt.target.value);\r\n    setIsPassValid(evt.target.checkValidity());\r\n    setPassValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function hanleClearInputs() {\r\n    setPassword('');\r\n    setUsername('');\r\n  }\r\n\r\n  function setAuthToken(data) {\r\n    localStorage.setItem('token', JSON.stringify(data));\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!(username || password)) {\r\n      return;\r\n    }\r\n    auth.login({ username, password })\r\n      .then(({ status, message }) => {\r\n        // eslint-disable-next-line\r\n        console.log(status);\r\n        if (status === 'ok') {\r\n          setAuthToken(message.token);\r\n          setIsAuth(true);\r\n          history.push('/');\r\n        } else {\r\n          setNameValidationMessage(message.username);\r\n          setPassValidationMessage(message.password);\r\n        }\r\n      })\r\n      // eslint-disable-next-line\r\n      .catch((err) => console.log(err));\r\n    hanleClearInputs();\r\n    evt.target.reset();\r\n  }\r\n\r\n  return (\r\n    <main className=\"main__content main__content_login\">\r\n      <h1>Авторизация</h1>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <label>Имя пользователя</label>\r\n        <input\r\n          name=\"username\"\r\n          id=\"username\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={username}\r\n          onChange={handleNameChange}\r\n          required />\r\n        <span id='username-error' className='task__form_input-error'>{nameValidationMessage}</span>\r\n        <label>Пароль</label>\r\n        <input\r\n          name=\"password\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          /* pattern=\"[a-zA-Z0-9]{1,15}\" */\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={password}\r\n          onChange={handlePassChange}\r\n          required />\r\n        <span id='password-error' className='task__form_input-error'>{passValidationMessage}</span>\r\n        <button className=\"task__submit\" type=\"submit\" disabled={!isProfileFormValid}>Отправить</button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","function Task({ username, message, email }) {\r\n  /* eslint-disable */\r\n  return (\r\n    <div className=\"tasklist__task\">\r\n      <h2 style={{ 'textAlign': 'center' }}>Имя пользователя: {username}</h2>\r\n      <p>Email: <a href={`mailto: ${email}`}>{email}</a></p>\r\n      <p>Описание</p>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Task;\r\n","import Task from './Task';\r\n\r\nfunction TaskList({ tasks }) {\r\n  return (\r\n    <>\r\n      {tasks.map((task) => <Task\r\n      username={task.username}\r\n      message={task.text}\r\n      email={task.email}\r\n      key={task.id} />)}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TaskList;\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction TaskForm({ onSubmit }) {\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [emailValidationMessage, setEmailValidationMessage] = useState('');\r\n  const [isTaskFormValid, setIsTaskFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function checkTaskFormValidity() {\r\n      if (isNameValid && isEmailValid && username && email) {\r\n        setIsTaskFormValid(true);\r\n      } else {\r\n        setIsTaskFormValid(false);\r\n      }\r\n    }\r\n    checkTaskFormValidity();\r\n  }, [username, email, isNameValid, isEmailValid]);\r\n\r\n  useEffect(() => {\r\n    if (showForm) {\r\n      setNameValidationMessage('');\r\n      setEmailValidationMessage('');\r\n      setIsNameValid(true);\r\n      setIsEmailValid(true);\r\n    }\r\n  }, [showForm]);\r\n\r\n  function handleNameChange(evt) {\r\n    setUsername(evt.target.value);\r\n    setIsNameValid(evt.target.checkValidity());\r\n    setNameValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function handleEmailChange(evt) {\r\n    setEmail(evt.target.value);\r\n    setIsEmailValid(evt.target.checkValidity());\r\n    setEmailValidationMessage(evt.target.validationMessage);\r\n  }\r\n\r\n  function handleMessageChange(evt) {\r\n    setMessage(evt.target.value);\r\n  }\r\n\r\n  function handleShowForm() {\r\n    setShowForm(!showForm);\r\n  }\r\n\r\n  function hanleClearInputs() {\r\n    setEmail('');\r\n    setUsername('');\r\n    setMessage('');\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!(username || email)) {\r\n      return;\r\n    }\r\n    onSubmit({\r\n      email,\r\n      username,\r\n      text: message,\r\n    });\r\n    hanleClearInputs();\r\n    evt.target.reset();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"button__show-form\"\r\n        onClick={handleShowForm}>{showForm ? 'Скрыть форму' : 'Добавить задание'}</div>\r\n      <form className={`task__form ${showForm && 'task__form_visible'}`} onSubmit={handleSubmit}>\r\n        <label>Имя пользователя</label>\r\n        <input\r\n          name=\"username\"\r\n          id=\"username\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={username}\r\n          onChange={handleNameChange}\r\n          required />\r\n        <span id='username-error' className='task__form_input-error'>{nameValidationMessage}</span>\r\n        <label>E-mail</label>\r\n        <input\r\n          name=\"email\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          minLength=\"5\"\r\n          maxLength=\"20\"\r\n          value={email}\r\n          onChange={handleEmailChange}\r\n          required />\r\n        <span id='email-error' className='task__form_input-error'>{emailValidationMessage}</span>\r\n        <label>Сообщение</label>\r\n        <textarea name=\"message\" type=\"text\" onChange={handleMessageChange} />\r\n        <button className=\"task__submit\" type=\"submit\"\r\n          disabled={!isTaskFormValid}>Создать</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TaskForm;\r\n","import { useContext } from 'react';\r\nimport AppContext from '../contexts/context';\r\n\r\nconst Sorting = () => {\r\n  const { setSortField, setSortDirection } = useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"sort\">\r\n      <div>Сортировать</div>\r\n      <select\r\n        onChange={(e) => setSortField(e.target.value)}\r\n      >\r\n        <option value=\"id\">id</option>\r\n        <option value=\"username\">username</option>\r\n        <option value=\"email\">email</option>\r\n        <option value=\"status\">status</option>\r\n      </select>\r\n      <select\r\n        onChange={(e) => setSortDirection(e.target.value)}\r\n      >\r\n        <option value=\"asc\">По возрастанию</option>\r\n        <option value=\"desc\">По убыванию</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sorting;\r\n","import { useContext } from 'react';\r\nimport AppContext from '../contexts/context';\r\n\r\nconst Pagination = ({ taskTotal }) => {\r\n  const { pageNumber, setPageNumber } = useContext(AppContext);\r\n\r\n  if (taskTotal <= 3) return null;\r\n\r\n  return (\r\n    <div className=\"pagination\">\r\n      <button\r\n        onClick={() => setPageNumber(pageNumber - 1)}\r\n        disabled={pageNumber === 1}\r\n      >\r\n        Назад\r\n      </button>\r\n      <div>Страница {pageNumber}</div>\r\n      <button\r\n        onClick={() => setPageNumber(pageNumber + 1)}\r\n        disabled={pageNumber * 3 >= taskTotal}\r\n      >\r\n        Дальше\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import TaskList from './TaskList';\r\nimport TaskForm from './TaskForm';\r\nimport Sorting from './Sorting';\r\nimport Pagination from './Pagination';\r\n\r\nconst Main = ({\r\n  tasks,\r\n  taskTotal,\r\n  header,\r\n  onSubmit,\r\n}) => (\r\n    <main className=\"main\">\r\n      <div className=\"main__content\">\r\n        <h1>{header}</h1>\r\n        <Sorting />\r\n        <TaskList tasks={tasks} />\r\n        <Pagination taskTotal={taskTotal} />\r\n      </div>\r\n      <div className=\"main__sidebar\">\r\n        <TaskForm onSubmit={onSubmit} />\r\n      </div>\r\n    </main>\r\n);\r\n\r\nexport default Main;\r\n","import { Switch, Route } from 'react-router-dom';\r\nimport Login from './Login';\r\nimport Main from './Main';\r\n\r\nconst AppRouter = ({\r\n  tasks,\r\n  taskTotal,\r\n  onSubmit,\r\n  header,\r\n}) => (\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Main\r\n            tasks={tasks}\r\n            taskTotal={taskTotal}\r\n            onSubmit={onSubmit}\r\n            header={header}\r\n          />\r\n        </Route>\r\n        <Route path=\"/login\" component={ Login } />\r\n      </Switch>\r\n);\r\n\r\nexport default AppRouter;\r\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppContext from '../contexts/context';\r\n\r\nconst NavBar = ({ onLogout }) => {\r\n  const { isAuth } = useContext(AppContext);\r\n\r\n  return (\r\n  <nav className=\"navigation__bar\">\r\n  <Link className=\"navigation__link\" to=\"/\">Задачи</Link>\r\n  {isAuth ? <Link className=\"navigation__link\" onClick={onLogout} to=\"/\">Выйти</Link>\r\n    : <Link className=\"navigation__link\" to=\"/login\">Войти</Link>}\r\n  </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport AppContext from '../contexts/context';\r\nimport { api } from '../utils/api';\r\nimport AppRouter from './AppRouter';\r\nimport NavBar from './NavBar';\r\n\r\n/* eslint-disable */\r\n\r\nfunction App() {\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [sortField, setSortField] = useState(null);\r\n  const [sortDirection, setSortDirection] = useState(null);\r\n  const [tasksLength, setTasksLength] = useState(0);\r\n  const [taskMessage, setTaskMessage] = useState('');\r\n  const [taskList, setTaskList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.getTasks(pageNumber, sortField, sortDirection)\r\n      .then(({ status, message }) => {\r\n        if (status == 'ok') {\r\n          setTaskList([...message.tasks]);\r\n          setTaskMessage(message.tasks.length\r\n            ? 'Список задач:' : 'Задач пока нет!');\r\n          setTasksLength(Number(message.total_task_count));\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, [pageNumber, tasksLength, sortField, sortDirection]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token')) {\r\n      setIsAuth(true);\r\n      console.log(localStorage.getItem('token'));\r\n    }\r\n  }, []);\r\n\r\n  function handleTaskSubmit(task) {\r\n    console.log(task);\r\n    setTaskList([...taskList, task]);\r\n    api.createTask(task)\r\n    .then(({ status, message }) => {\r\n      console.log(message);\r\n      if (status == 'ok') {\r\n        setTaskMessage('Успешно добавлено');\r\n        setTasksLength(tasksLength + 1);\r\n      } else {\r\n        setTaskMessage('Ошибка добавления');\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('token');\r\n    setIsAuth(false);\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider value={{\r\n      isAuth,\r\n      setIsAuth,\r\n      pageNumber,\r\n      setPageNumber,\r\n      setSortField,\r\n      setSortDirection,\r\n    }}>\r\n      <NavBar onLogout={handleLogout} />\r\n      <AppRouter\r\n        tasks={taskList}\r\n        taskTotal={tasksLength}\r\n        onSubmit={handleTaskSubmit}\r\n        header={taskMessage} />\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename=\"/beejee-task-list\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}